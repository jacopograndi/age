DEV
[x] level restrict train and build
[x] current tech gui
[x] tech bonus addition
[x] some tech effects
[x] tc and market trade
[x] age up menu
[x] end day upgrade on age up
[x] end day heal when on bld
[x] bld ages upgrades (just graphical)
[x] train problem
[x] more train problems (normal blds train mercs & monks in barracks)
[x] market (+50g mercs & discount tech)
[x] tech effects
[x] veterancy ranks
[x] heal
[x] convert
[ ] relics
[x] tower diagonal constraint
[ ] tower defence effect -> new bonus type
[ ] castle
[ ] frenzy special case
[ ] gui tech
[ ] gui production
[ ] gui train build
[ ] unit tech requirement (paladin, champion, imp siege)
[ ] fsm back
[ ] undo
[x] bld defence bonus
[ ] demolish
[x] imp entities
[ ] gst state / invariant
[ ] map saveload
[ ] map editor

[ ] use maps to speed up lookups (even in ground.pos -> ent)

ART
[x] imp unit sprites 
[x] sprites stable, uni, market, church, tower and bld upgrade
[ ] castle

BUGS
[ ] wheelbarrow doesn't work
[ ] search player by id, not by index

[x] trained man at arms, bad alloc